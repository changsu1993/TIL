# 1. Heap (힙)

**조건**

- 형태 속성: 힙은 완전 이진 트리다.
- 힙 속성: 모든 노드의 데이터는 자식 노드들의 데이터보다 크거나 같다.

<br>

### 정렬

정렬이란 여러 개의 데이터 요소들을 특정 순서로 배치하는 것을 말한다.

```python
# 파이썬 리스트
[4, 1, 6, 2, 8, 5]

# 오름차순 정렬
[1, 2, 4, 5, 6, 8]

# 내림차순 정렬
[8, 6, 5, 4, 2, 1]
```

정렬 알고리즘: 데이터를 재배치하는 구체적인 방법

가장 흔한 정렬 알고리즘들 중에서는 삽입 정렬, 선택 정렬, 퀵 정렬, 합병 정렬 등이 있다.

<br>

**배열로 구현한 힙**

힙은 완전 이진 트리이기 때문에 보통 동적 배열로 나타낸다. <br>

<br>

**힙 만들기**

힙을 만들기 위해서는 형태 속성과 힙 속성의 조건을 만족해야 한다. <br>
힙 속성이 지켜지지 않을 때에는 heapify 알고리즘을 통해 해결할 수 있다. <br>
heapify는 파라미터로 어떤 노드 하나를 받는다. 이 노드를 부모 노드로 지정하고 <br>
부모 노드, 왼쪽 자식, 오른쪽 자식 중 가장 큰 걸 고른다. <br>
가장 큰 노드가 부모 노드가 아니라면 가장 큰 노드와 부모 노드를 바꿔준다. <br>
부모 노드가 가장 크면 아무것도 하지 않고, 기존의 부모 노드가 밑으로 갔다면 또 힙 속성을 어길 수도 있다. <br>
이럴 경우 힙 속성이 충족될 때까지 반복한다. <br>
heapify 알고리즘을 쓰면 원하는 노드를 힙 속성에 맞는 위치로 재배치 시킬 수 있다. <br>

시간 복잡도 <br>
트리에 저장되어 있는 노드의 개수를 n이라 하고, <br>
최악의 경우 <br>
이 노드는 총 트리의 높이만큼 데이터를 비교하고 재배치 시킨다. 힙은 완전 이진 트리이기 때문에 높이가 O(log(n))이다. <br>
따라서 최악의 경우 heapify에 걸리는 시간은 O(log(n))에 비례한다. 그렇기 때문에 시간 복잡도도 O(log(n))이다. <br>
힙을 만들려면 heapify를 n개의 노드에 모두 호출해야 하므로 O(log(n))이 n번 걸린다. <br>
log(n) x n = n log(n) 이므로 힙을 만드는 데 걸리는 시간 복잡도는 O(n log(n))이다.

<br>

**힙 정렬**

힙을 이용한 정렬 알고리즘

- 힙을 만든다.
- root와 마지막 노드를 바꿔준다.
- (바꾼 노드는 없는 노드 취급한다.)
- 새로운 노드가 힙 속성을 지킬 수 있게 heapify 호출한다.
